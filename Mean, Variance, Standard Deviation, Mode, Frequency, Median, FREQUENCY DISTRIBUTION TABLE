#include <stdio.h>
#include <stdlib.h>
#include <math.h>

int main()
{
    int a[1000], freq[51] = {0};
    int i, n = 1000;
    float sum = 0, mean, variance = 0, sd;
    int maxFreq = 0, mode = 0, median;

    // Step 1: Generate 1000 random numbers between 1 and 50
    for (i = 0; i < n; i++)
    {
        a[i] = rand() % 50 + 1;
        sum += a[i];
        freq[a[i]]++;
    }

    // Step 2: Find Mean
    mean = sum / n;

    // Step 3: Find Variance and Standard Deviation
    for (i = 0; i < n; i++)
        variance += pow(a[i] - mean, 2);

    variance /= n;
    sd = sqrt(variance);

    // Step 4: Find Mode (number with highest frequency)
    for (i = 1; i <= 50; i++)
    {
        if (freq[i] > maxFreq)
        {
            maxFreq = freq[i];
            mode = i;
        }
    }

    // Step 5: Find Median
    // First, generate a cumulative frequency table
    int cumFreq[51];
    cumFreq[0] = 0;
    for (i = 1; i <= 50; i++)
        cumFreq[i] = cumFreq[i - 1] + freq[i];

    if (n % 2 == 0)
    {
        int m1, m2;
        for (i = 1; i <= 50; i++)
        {
            if (cumFreq[i] >= n / 2 && cumFreq[i - 1] < n / 2)
                m1 = i;
            if (cumFreq[i] >= n / 2 + 1 && cumFreq[i - 1] < n / 2 + 1)
            {
                m2 = i;
                break;
            }
        }
        median = (m1 + m2) / 2;
    }
    else
    {
        for (i = 1; i <= 50; i++)
        {
            if (cumFreq[i] >= (n + 1) / 2)
            {
                median = i;
                break;
            }
        }
    }

    // Step 6: Display results
    printf("----- STATISTICAL RESULTS -----\n");
    printf("Mean = %.2f\n", mean);
    printf("Variance = %.2f\n", variance);
    printf("Standard Deviation = %.2f\n", sd);
    printf("Mode = %d (Frequency = %d)\n", mode, maxFreq);
    printf("Median = %d\n", median);

    // Step 7: Display Frequency Distribution Table
    printf("\n----- FREQUENCY DISTRIBUTION TABLE -----\n");
    printf("Number\tFrequency\n");
    for (i = 1; i <= 50; i++)
    {
        if (freq[i] > 0)
            printf("%d\t%d\n", i, freq[i]);
    }

    return 0;
}
